# Deployment Plan: Seam Cricket Academy Website

## Repository Info

- **Repo**: `seamcricketacademy-png/html-seamcricketacademy`
- **URL**: https://github.com/seamcricketacademy-png/html-seamcricketacademy
- **Live Site**: https://www.seamcricketacademy.com
- **Hosting**: GitHub Pages (via GitHub Actions)

---

## Current State on GitHub

```
main branch (Source Code):
├── .github/workflows/deploy.yml # CI/CD Pipeline
├── src/                         # Astro Source Code
├── public/                      # Static Assets
├── astro.config.mjs             # Config
├── package.json                 # Dependencies
└── CNAME                        # Domain Config
```

## Local State (Ready to Deploy)

```
D:\html-seamcricketacademy\    # ROOT DIRECTORY (Active Source)
├── dist/                      # Built files (Generated by CI/CD)
├── src/                       # Source code
├── public/                    # Assets
├── .github/workflows/         # Deployment config
└── backup-legacy/             # ✅ FAILSAFE BACKUP
```

---

## Deployment Method: GitHub Actions (Active) ✅

Automated deployment via GitHub Actions is configured in `.github/workflows/deploy.yml`.

### Workflow Configuration

The workflow is configured to run from the **project root**:

```yaml
name: Deploy Astro to GitHub Pages

on:
  push:
    branches: [main]
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: 20
          cache: "npm"
          cache-dependency-path: package-lock.json # Root lockfile

      - name: Install dependencies
        run: npm ci # Runs in root

      - name: Build Astro site
        run: npm run build # Runs in root

      - name: Copy CNAME to dist
        run: cp CNAME dist/

      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: ./dist # Root dist folder
```

### How to Deploy

1.  **Commit Changes**:

    ```bash
    git add .
    git commit -m "feat: Description of changes"
    ```

2.  **Push to Main**:

    ```bash
    git push origin main
    ```

3.  **Monitor**:
    - Go to the **Actions** tab in the GitHub repository.
    - Watch the "Deploy Astro to GitHub Pages" workflow.

---

## Rollback Plan

If issues occur, revert the commit or restore from backup:

```bash
# Revert last commit
git revert HEAD
git push origin main
```

---

## Pre-Deploy Checklist

- [ ] `npm run build` successful locally
- [ ] `npm run dev` checked for visual regressions
- [ ] Large files (>50MB) excluded or handled via LFS
- [ ] CNAME exists in root

---

## Critical Notes

- **Do NOT** use `astro-revamp` folder. The project is now in the **ROOT**.
- **Do NOT** manually upload files to `gh-pages`. Let the Action handle it.
- **Large Files**: Avoid committing video files larger than 50MB directly to git.
